"use strict";function formatTime(e){if(!/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}/.test(e))return e;var t="",r=e.slice(5,7),o=e.slice(11,13),n=e.slice(8,10),a=e.slice(0,4),s=e.slice(14,16),i=void 0;switch(i=o>=12?"PM":"AM",o>12?o-=12:"00"===o&&(o=12),r){case"01":r="January";break;case"02":r="February";break;case"03":r="March";break;case"04":r="April";break;case"05":r="May";break;case"06":r="June";break;case"07":r="July";break;case"08":r="August";break;case"09":r="September";break;case"10":r="October";break;case"11":r="November";break;case"12":r="December"}return t=r+" "+n+", "+a+" "+o+":"+s+" "+i}function ProjectEvent(e,t,r,o,n,a,s){var i=arguments.length<=7||void 0===arguments[7]?"":arguments[7];this.eventOrAccount="Event",this.name=e,this.eventType=t,this.host=r,this.startDateTime=o,this.endDateTime=n,this.guestList=a,this.location=s,this.optMessage=i}function Account(e,t,r,o,n,a,s){this.eventOrAccount="Account",this.name=e,this.email=t,this.password=r,this.birthdate=o,this.work=n,this.position=a,this.workLike=s}function createCards(){var e=!1;for(var t in localStorage)try{var r=JSON.parse(localStorage[t]);"Event"===r.eventOrAccount&&(e=!0)}catch(e){console.log("a value that is not a stringified object is in local Storage")}if(eventsPage.innerHTML="",e)for(var o in localStorage){var n=JSON.parse(localStorage[o]);"Event"===n.eventOrAccount&&createNewEventCard(n)}else eventsPage.innerHTML="<h3>You need to first create an event before you can see any!</h3>"}function createNewEventCard(e){var t=document.createElement("section");t.className="card";var r='<p class="eventName">'+e.name+"</p>";r+='<p class="eventHost"><span class="header">Host:</span><span class="info">'+e.host+"</span></p>",r+='<p class="eventType"><span class="header">Type of Event:</span><span class="info">'+e.eventType+"</span></p>",r+='<p class="startTime"><span class="header">Start Time:</span><span class="info">'+formatTime(e.startDateTime)+"</span></p>",r+='<p class="endTime"><span class="header">End Time:</span><span class="info">'+formatTime(e.endDateTime)+"</span></p>",r+='<p class="location"><span class="header">Location:</span><span class="info"> '+e.location+"</span></p>",r+='<p class="whosComing"><span class="header">Who\'s Coming:</span><ul class="info">';for(var o=0;o<e.guestList.length;o++)r+="<li>"+e.guestList[o]+"</li>";r+="</ul></p>",""!==e.optMessage&&(r+='<p class="message">"'+e.optMessage+'"</p>'),t.innerHTML=r,eventsPage.appendChild(t)}function initAutocomplete(){autocomplete=new google.maps.places.Autocomplete(document.getElementById("locationInput"),{types:["geocode"]})}var showCreateEventForm=document.querySelector("#createEvent"),showRegister=document.querySelector("#createAccount"),showEvents=document.querySelector("#showEvents"),image=document.querySelector("figure"),registerForm=document.querySelector("#createAccountForm"),nameInput=document.querySelector("#nameInput"),emailInput=document.querySelector("#emailInput"),passwordInput=document.querySelector("#passwordInput"),secondPasswordInput=document.querySelector("#secondPasswordInput"),birthdayInput=document.querySelector("#birthdayInput"),employerInput=document.querySelector("#employerInput"),positionInput=document.querySelector("#positionInput"),loveJobInput=document.querySelector("#loveJobInput"),loveJobOutput=document.querySelector("#output"),createAccountButton=document.querySelector("#createAccountButton"),createEventForm=document.querySelector("#createEventForm"),eventInput=document.querySelector("#eventInput"),typeEventInput=document.querySelector("#typeEventInput"),hostInput=document.querySelector("#hostInput"),guestInput=document.querySelector("#guestInput"),startTimeInput=document.querySelector("#startTimeInput"),endTimeInput=document.querySelector("#endTimeInput"),addGuestButton=document.querySelector("#addGuest"),locationInput=document.querySelector("#locationInput"),messageInput=document.querySelector("#messageInput"),createEventButton=document.querySelector("#addEvent"),guestListArray=[],eventsPage=document.getElementById("eventsPage");showCreateEventForm.addEventListener("click",function(){createEventForm.style.display="block",image.style.display="none",eventsPage.style.display="none",registerForm.style.display="none"},!1),showRegister.addEventListener("click",function(){createEventForm.style.display="none",image.style.display="none",eventsPage.style.display="none",registerForm.style.display="block"},!1),showEvents.addEventListener("click",function(){createEventForm.style.display="none",image.style.display="none",registerForm.style.display="none",eventsPage.style.display="block",createCards()},!1),createAccountButton.addEventListener("click",function(){var e=nameInput.value,t=emailInput.value,r=passwordInput.value,o=birthdayInput.value,n=employerInput.value,a=positionInput.value,s=loveJobInput.value,i=new Account(e,t,r,o,n,a,s);localStorage.setItem(e,JSON.stringify(i)),console.dir(JSON.parse(localStorage.getItem(e))instanceof Account)},!1),loveJobInput.addEventListener("input",function(){loveJobOutput.innerHTML=this.value},!1),addGuestButton.addEventListener("click",function(){var e=document.querySelector('label[for="guestInput"]'),t=document.querySelector('label[for="guestInput"] ul'),r=e.querySelector("input").value;if(""!==r){var o=document.createElement("li");o.innerHTML=r,t.appendChild(o),e.querySelector("input").value="",guestListArray.push(r)}},!1),passwordInput.addEventListener("input",function(){var e=this.value,t="",r=document.querySelector("#passwordTip1");/[a-z]/.test(e)?/[A-Z]/.test(e)?/[0-9]/.test(e)?/[&%$*?!]/.test(e)?/.{10}/.test(e)?(t="Great password!",this.setCustomValidity("")):(t=" The password should be at least 10 characters long.",this.setCustomValidity(t)):(t=" Please add one of the following characters: &%$*?! .",this.setCustomValidity(t)):(t=" Please add a number to the password.",this.setCustomValidity(t)):(t=" Please add a upper case letter to the password.",this.setCustomValidity(t)):(t=" Please add a lower case letter to the password.",this.setCustomValidity(t)),1==this.validity.valid?r.style.color="blue":r.style.color="red",r.innerHTML=t}),secondPasswordInput.addEventListener("input",function(){var e=this.value,t=document.querySelector("#passwordInput"),r=t.value,o=document.querySelector("#passwordTip2"),n="";e!==r?(n="The two passwords have to match.",this.setCustomValidity(n),o.style.color="red"):e===r&&0==t.validity.valid?(n="Passwords match, but neither is valid.",this.setCustomValidity(n),o.style.color="red"):(n="Passwords match!",this.setCustomValidity(""),o.style.color="blue"),o.innerHTML=n}),createEventButton.addEventListener("click",function(){if(!guestListArray.length>0?guestInput.setCustomValidity("You need at least one guest"):guestInput.setCustomValidity(""),createEventForm.checkValidity()){var e=eventInput.value,t=typeEventInput.value,r=hostInput.value,o=startTimeInput.value,n=endTimeInput.value,a=guestListArray,s=locationInput.value,i=messageInput.value,u=new ProjectEvent(e,t,r,o,n,a,s,i);localStorage.setItem(e,JSON.stringify(u)),createNewEventCard(u)}});var passwordInputs=document.querySelectorAll("input[type=password]"),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _loop=function(){var e=_step.value,t=e.parentNode,r=t.querySelector("input"),o=t.querySelector(".checkmark");console.log(e),e.addEventListener("blur",function(){console.log("blur!"),r.validity.valid?o.style.opacity=1:o.style.opacity=0},!1)},_iterator=passwordInputs[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_loop()}catch(e){_didIteratorError=!0,_iteratorError=e}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var dataTips=document.querySelectorAll("[data-validate-tip]"),_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _loop2=function(){var e=_step2.value,t=e.parentNode,r=t.querySelector("input"),o=t.querySelector("span:not(.checkmark)"),n=t.querySelector(".checkmark");r.addEventListener("blur",function(){""!==this.validationMessage?(o.innerHTML=this.validationMessage,n.style.opacity=0):(o.innerHTML="",n.style.opacity=1)},!1),r.addEventListener("input",function(){o.innerHTML=""},!1)},_iterator2=dataTips[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0)_loop2()}catch(e){_didIteratorError2=!0,_iteratorError2=e}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}guestInput.addEventListener("blur",function(){0==guestListArray.length&&""==this.value?guestInput.parentNode.querySelector("span").innerHTML="You need to have at least one guest.":guestInput.parentNode.querySelector("span").innerHTML=""},!1),guestInput.addEventListener("input",function(){guestInput.parentNode.querySelector("span").innerHTML=""},!1),guestInput.addEventListener("keydown",function(e){if(13==e.keyCode){var t=document.querySelector('label[for="guestInput"]'),r=document.querySelector('label[for="guestInput"] ul'),o=t.querySelector("input").value;if(""===o)return;var n=document.createElement("li");n.innerHTML=o,r.appendChild(n),t.querySelector("input").value="",guestListArray.push(o)}},!1),console.log("hello");var autocomplete;document.querySelector("#nameInput").addEventListener("click",function(){var e=document.querySelector(".checkmark");e.style.visibility="visible"},!1);