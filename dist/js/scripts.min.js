"use strict";function formatTime(e){if(!/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}/.test(e))return e;var t="",r=e.slice(5,7),n=e.slice(11,13),a=e.slice(8,10),o=e.slice(0,4),s=e.slice(14,16),i=void 0;switch(i=n>=12?"PM":"AM",n>12?n-=12:"00"===n&&(n=12),r){case"01":r="January";break;case"02":r="February";break;case"03":r="March";break;case"04":r="April";break;case"05":r="May";break;case"06":r="June";break;case"07":r="July";break;case"08":r="August";break;case"09":r="September";break;case"10":r="October";break;case"11":r="November";break;case"12":r="December"}return t=r+" "+a+", "+o+" "+n+":"+s+" "+i}function ProjectEvent(e,t,r,n,a,o,s){var i=arguments.length<=7||void 0===arguments[7]?"":arguments[7];this.eventOrAccount="Event",this.name=e,this.eventType=t,this.host=r,this.startDateTime=n,this.endDateTime=a,this.guestList=o,this.location=s,this.optMessage=i}function Account(e,t,r,n,a,o,s){this.eventOrAccount="Account",this.name=e,this.email=t,this.password=r,this.birthdate=n,this.work=a,this.position=o,this.workLike=s}function createCards(){var e=!1;for(var t in localStorage)try{var r=JSON.parse(localStorage[t]);"Event"===r.eventOrAccount&&(e=!0)}catch(e){console.log("a value that is not a stringified object is in local Storage")}if(eventsPage.innerHTML="",e)for(var n in localStorage){var a=JSON.parse(localStorage[n]);"Event"===a.eventOrAccount&&createNewEventCard(a)}else eventsPage.innerHTML="<h3>You need to first create an event before you can see any!</h3>"}function createNewEventCard(e){var t=document.createElement("section");t.className="card";var r='<p class="eventName">'+e.name+"</p>";r+='<p class="eventHost"><span class="header">Host:</span><span class="info">'+e.host+"</span></p>",r+='<p class="eventType"><span class="header">Type of Event:</span><span class="info">'+e.eventType+"</span></p>",r+='<p class="startTime"><span class="header">Start Time:</span><span class="info">'+formatTime(e.startDateTime)+"</span></p>",r+='<p class="endTime"><span class="header">End Time:</span><span class="info">'+formatTime(e.endDateTime)+"</span></p>",r+='<p class="location"><span class="header">Location:</span><span class="info"> '+e.location+"</span></p>",r+='<p class="whosComing"><span class="header">Who\'s Coming:</span><ul class="info">';for(var n=0;n<e.guestList.length;n++)r+="<li>"+e.guestList[n]+"</li>";r+="</ul></p>",""!==e.optMessage&&(r+='<p class="message">"'+e.optMessage+'"</p>'),t.innerHTML=r,eventsPage.appendChild(t)}function initAutocomplete(){autocomplete=new google.maps.places.Autocomplete(document.getElementById("locationInput"),{types:["geocode"]})}var showCreateEventForm=document.querySelector("#createEvent"),showRegister=document.querySelector("#createAccount"),showEvents=document.querySelector("#showEvents"),image=document.querySelector("figure"),registerForm=document.querySelector("#createAccountForm"),nameInput=document.querySelector("#nameInput"),emailInput=document.querySelector("#emailInput"),passwordInput=document.querySelector("#passwordInput"),secondPasswordInput=document.querySelector("#secondPasswordInput"),birthdayInput=document.querySelector("#birthdayInput"),employerInput=document.querySelector("#employerInput"),positionInput=document.querySelector("#positionInput"),loveJobInput=document.querySelector("#loveJobInput"),loveJobOutput=document.querySelector("#output"),createAccountButton=document.querySelector("#createAccountButton"),createEventForm=document.querySelector("#createEventForm"),eventInput=document.querySelector("#eventInput"),typeEventInput=document.querySelector("#typeEventInput"),hostInput=document.querySelector("#hostInput"),guestInput=document.querySelector("#guestInput"),startTimeInput=document.querySelector("#startTimeInput"),endTimeInput=document.querySelector("#endTimeInput"),addGuestButton=document.querySelector("#addGuest"),locationInput=document.querySelector("#locationInput"),messageInput=document.querySelector("#messageInput"),createEventButton=document.querySelector("#addEvent"),guestListArray=[],eventsPage=document.getElementById("eventsPage");showCreateEventForm.addEventListener("click",function(){createEventForm.style.display="block",image.style.display="none",eventsPage.style.display="none",registerForm.style.display="none"},!1),showRegister.addEventListener("click",function(){createEventForm.style.display="none",image.style.display="none",eventsPage.style.display="none",registerForm.style.display="block"},!1),showEvents.addEventListener("click",function(){createEventForm.style.display="none",image.style.display="none",registerForm.style.display="none",eventsPage.style.display="block",createCards()},!1),createAccountButton.addEventListener("click",function(){var e=nameInput.value,t=emailInput.value,r=passwordInput.value,n=birthdayInput.value,a=employerInput.value,o=positionInput.value,s=loveJobInput.value,i=new Account(e,t,r,n,a,o,s);localStorage.setItem(e,JSON.stringify(i))},!1),loveJobInput.addEventListener("input",function(){loveJobOutput.innerHTML=this.value},!1),addGuestButton.addEventListener("click",function(){var e=document.querySelector('label[for="guestInput"]'),t=document.querySelector('label[for="guestInput"] ul'),r=e.querySelector("input").value;if(""!==r){var n=document.createElement("li");n.innerHTML=r,t.appendChild(n),e.querySelector("input").value="",guestListArray.push(r);var a=e.querySelector(".checkmark");a.style.opacity=1,e.querySelector("#guestTip").innerHTML=""}},!1),startTimeInput.addEventListener("blur",function(){var e=this.value;if(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}/.test(e)){var t=e.slice(0,4),r=e.slice(5,7),n=e.slice(8,10),a=e.slice(11,13),o=e.slice(14,16),s=new Date(t,r,n,a,o);s<new Date?(startTimeInput.setCustomValidity("Events cannot start in the past."),endTimeInput.setCustomValidity("Events cannot start in the past.")):(startTimeInput.setCustomValidity(""),endTimeInput.setCustomValidity(""))}},!1),endTimeInput.addEventListener("blur",function(){var e=[startTimeInput.value,this.value],t=[];/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}/.test(startTimeInput.value)&&/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}/.test(endTimeInput.value)&&(e.forEach(function(e,r){var n=e.slice(0,4),a=e.slice(5,7),o=e.slice(8,10),s=e.slice(11,13),i=e.slice(14,16),u=new Date(n,a,o,s,i);t[r]=u}),t[1]<=t[0]?endTimeInput.setCustomValidity("The end time must be later than the start time."):endTimeInput.setCustomValidity(""))}),passwordInput.addEventListener("input",function(){var e=this.value,t="",r=document.querySelector("#passwordTip1");/[a-z]/.test(e)?/[A-Z]/.test(e)?/[0-9]/.test(e)?/[&%$*?!]/.test(e)?/.{10}/.test(e)?(t="Great password!",this.setCustomValidity("")):(t=" The password should be at least 10 characters long.",this.setCustomValidity(t)):(t=" Please add one of the following characters: &%$*?! .",this.setCustomValidity(t)):(t=" Please add a number to the password.",this.setCustomValidity(t)):(t=" Please add a upper case letter to the password.",this.setCustomValidity(t)):(t=" Please add a lower case letter to the password.",this.setCustomValidity(t)),1==this.validity.valid?r.style.color="blue":r.style.color="red",r.innerHTML=t}),secondPasswordInput.addEventListener("input",function(){var e=this.value,t=document.querySelector("#passwordInput"),r=t.value,n=document.querySelector("#passwordTip2"),a="";e!==r?(a="The two passwords have to match.",this.setCustomValidity(a),n.style.color="red"):e===r&&0==t.validity.valid?(a="Passwords match, but neither is valid.",this.setCustomValidity(a),n.style.color="red"):(a="Passwords match!",this.setCustomValidity(""),n.style.color="blue"),n.innerHTML=a}),createEventButton.addEventListener("click",function(){if(!guestListArray.length>0?guestInput.setCustomValidity("You need at least one guest"):guestInput.setCustomValidity(""),createEventForm.checkValidity()){var e=eventInput.value,t=typeEventInput.value,r=hostInput.value,n=startTimeInput.value,a=endTimeInput.value,o=guestListArray,s=locationInput.value,i=messageInput.value,u=new ProjectEvent(e,t,r,n,a,o,s,i);localStorage.setItem(e,JSON.stringify(u)),createNewEventCard(u)}});var passwordInputs=document.querySelectorAll("input[type=password]"),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _loop=function(){var e=_step.value,t=e.parentNode,r=t.querySelector("input"),n=t.querySelector(".checkmark");e.addEventListener("blur",function(){r.validity.valid?n.style.opacity=1:n.style.opacity=0},!1)},_iterator=passwordInputs[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_loop()}catch(e){_didIteratorError=!0,_iteratorError=e}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var dataTips=document.querySelectorAll("[data-validate-tip]"),_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _loop2=function(){var e=_step2.value,t=e.parentNode,r=t.querySelector("input"),n=t.querySelector("span:not(.checkmark)"),a=t.querySelector(".checkmark");r.addEventListener("blur",function(){""!==this.validationMessage?(n.innerHTML=this.validationMessage,a.style.opacity=0):(n.innerHTML="",a.style.opacity=1)},!1),r.addEventListener("input",function(){n.innerHTML=""},!1)},_iterator2=dataTips[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0)_loop2()}catch(e){_didIteratorError2=!0,_iteratorError2=e}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}guestInput.addEventListener("blur",function(){0==guestListArray.length&&""==this.value?(console.log(guestInput.parentNode.querySelector("span:not(.checkmark)")),guestInput.parentNode.querySelector("span:not(.checkmark)").innerHTML="You need to have at least one guest."):0==guestListArray.length&&""==!this.value?guestInput.parentNode.querySelector("span:not(.checkmark)").innerHTML="Please hit the add guest button to add guest.":(console.log("does not meet conditions"),guestInput.parentNode.querySelector("span").innerHTML="")},!1),guestInput.addEventListener("input",function(){guestInput.parentNode.querySelector("span").innerHTML=""},!1),guestInput.addEventListener("keydown",function(e){if(13==e.keyCode){var t=document.querySelector('label[for="guestInput"]'),r=document.querySelector('label[for="guestInput"] ul'),n=t.querySelector("input").value;if(""===n)return;var a=document.createElement("li");a.innerHTML=n,r.appendChild(a),t.querySelector("input").value="",guestListArray.push(n)}},!1);var autocomplete;